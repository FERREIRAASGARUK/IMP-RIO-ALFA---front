{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/marcusvinicius/\\xC1rea de Trabalho/CONTINUA\\xC7\\xC3O/TESTE/src/components/Profile/Setings/Settings.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, createContext, useContext } from 'react';\nimport Header from '../../Header/header';\nimport estilo from './estyle.js';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport AccountCircle from '@material-ui/icons/LinkOutlined';\nimport api from '../../../Services/userServer';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { Button, Snackbar, Avatar } from '@material-ui/core';\nexport const profileImg = /*#__PURE__*/createContext();\nexport const Profile = props => {\n  _s();\n\n  const profile = JSON.parse(localStorage.getItem('login'));\n  const imageProfile = profile.image;\n  const [image, setImage] = useState(imageProfile);\n  return /*#__PURE__*/_jsxDEV(profileImg.Provider, {\n    value: {\n      image,\n      setImage\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"qjA6Y1tzD4zb3wjU7mpSrDdOvzM=\");\n\n_c = Profile;\n\nconst Settings = () => {\n  _s2();\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 16\n    }, this);\n  }\n\n  const imagem = useContext(profileImg);\n  const classes = estilo();\n  const [account, setAccount] = useState();\n  const [msg, setMsg] = useState();\n  const [retorno, setRetorno] = useState();\n  const vertical = 'top';\n  const horizontal = 'left';\n  const [Aberto, setAberto] = useState();\n\n  function abrir() {\n    setAberto(true);\n  }\n\n  function fechar() {\n    setAberto(false);\n  }\n\n  const [values, setValues] = useState({\n    Email: '',\n    Profile: ''\n  });\n\n  const handleChange = ev => {\n    const {\n      name,\n      value\n    } = ev.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async ev => {\n    ev.preventDefault();\n    imagem.setImage(values.Profile); //BUSCANDO DADOS DO USUÁRIO NON CACHE\n\n    const user = JSON.parse(localStorage.getItem('login'));\n    const userId = user.id;\n    user.image = values.Profile; //BUSCANDO DADOS DO USUÁRIO NO 'BANCO DE DADOS'\n\n    async function buscarUser() {\n      const response = await api.get(`/users`);\n      const resposta = response.data;\n      const usuario = resposta.filter(e => {\n        return e.email === values.Email;\n      });\n      usuario[0] ? setAccount(true) : setAccount(false);\n      usuario[0] ? setMsg('Já existe uma conta cadastrada com este email , digite um email novo') : setMsg('Imagem atualizada');\n      usuario[0] ? setRetorno('error') : setRetorno('success');\n      usuario[0] && localStorage.setItem('login', JSON.stringify(user));\n    }\n\n    buscarUser();\n    abrir();\n    account === false && (await api.put(`/users/${userId}`, user));\n    console.log(imagem.image);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical,\n        horizontal\n      },\n      open: Aberto,\n      onClose: fechar,\n      autoHideDuration: 5000,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: retorno,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.main,\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        \"aria-label\": \"upload picture\",\n        component: \"span\",\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.profileImg,\n          src: imagem.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.content,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.imageLink,\n          id: \"image\",\n          label: \"Imagem de perfil\",\n          name: \"Profile\",\n          placeholder: \"cole aqui o link da sua imagem\",\n          variant: \"outlined\",\n          onChange: handleChange,\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 33\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: classes.btn,\n          variant: \"outlined\",\n          color: \"primary\",\n          type: \"submit\",\n          children: \"Atualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(Settings, \"0Il99+Mtqaoy1fONJ/+3bJ9deFM=\");\n\n_c2 = Settings;\nexport default Settings;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Profile\");\n$RefreshReg$(_c2, \"Settings\");","map":{"version":3,"sources":["/home/marcusvinicius/Área de Trabalho/CONTINUAÇÃO/TESTE/src/components/Profile/Setings/Settings.js"],"names":["React","useState","createContext","useContext","Header","estilo","IconButton","TextField","InputAdornment","AccountCircle","api","MuiAlert","Button","Snackbar","Avatar","profileImg","Profile","props","profile","JSON","parse","localStorage","getItem","imageProfile","image","setImage","children","Settings","Alert","imagem","classes","account","setAccount","msg","setMsg","retorno","setRetorno","vertical","horizontal","Aberto","setAberto","abrir","fechar","values","setValues","Email","handleChange","ev","name","value","target","handleSubmit","preventDefault","user","userId","id","buscarUser","response","get","resposta","data","usuario","filter","e","email","setItem","stringify","put","console","log","main","content","form","imageLink","startAdornment","btn"],"mappings":"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","sourcesContent":["import React, { useState, createContext, useContext } from 'react';\nimport Header from '../../Header/header';\nimport estilo from './estyle.js';\nimport IconButton from '@material-ui/core/IconButton'\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport AccountCircle from '@material-ui/icons/LinkOutlined';\nimport api from '../../../Services/userServer'\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { Button, Snackbar, Avatar } from '@material-ui/core';\n\nexport const profileImg = createContext()\n\n\nexport const Profile = (props) => {\n\n    const profile = (JSON.parse(localStorage.getItem('login')))\n    const imageProfile = profile.image\n\n    const [image, setImage] = useState(imageProfile)\n\n    return (\n        <profileImg.Provider\n            value={{ image, setImage }}\n        >\n            {props.children}\n        </profileImg.Provider>\n    )\n}\n\n\n\nconst Settings = () => {\n    function Alert(props) {\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n    }\n    const imagem = useContext(profileImg)\n    const classes = estilo()\n    const [account, setAccount] = useState()\n    const [msg, setMsg] = useState()\n    const [retorno, setRetorno] = useState()\n    const vertical = 'top';\n    const horizontal = 'left';\n    const [Aberto, setAberto] = useState();\n\n    function abrir() {\n        setAberto(true);\n    }\n    function fechar() {\n        setAberto(false);\n    }\n    const [values, setValues] = useState({\n        Email: '',\n        Profile: ''\n    })\n    const handleChange = (ev) => {\n        const { name, value } = ev.target;\n        setValues({ ...values, [name]: value })\n    }\n    const handleSubmit = async (ev) => {\n        ev.preventDefault();\n        imagem.setImage(values.Profile)\n        //BUSCANDO DADOS DO USUÁRIO NON CACHE\n\n        const user = (JSON.parse(localStorage.getItem('login')))\n        const userId = user.id\n        user.image = values.Profile\n\n\n        //BUSCANDO DADOS DO USUÁRIO NO 'BANCO DE DADOS'\n        async function buscarUser() {\n            const response = await api.get(`/users`)\n            const resposta = response.data;\n            const usuario = resposta.filter(e => {\n                return (e.email === values.Email)\n            })\n            usuario[0] ? setAccount(true) : setAccount(false)\n            usuario[0] ? setMsg('Já existe uma conta cadastrada com este email , digite um email novo') : setMsg('Imagem atualizada')\n            usuario[0] ? setRetorno('error') : setRetorno('success')\n            usuario[0] && localStorage.setItem('login', (JSON.stringify(user)))\n        }\n        buscarUser()\n        abrir()\n        account === false && await api.put(`/users/${userId}`, user)\n        console.log(imagem.image)\n    }\n    return (\n        <div>\n            <Header />\n            <Snackbar\n                anchorOrigin={{ vertical, horizontal }}\n                open={Aberto}\n                onClose={fechar}\n                autoHideDuration={5000}\n            >\n                <Alert severity={retorno}>\n                    <div>{msg}</div>\n                </Alert>\n            </Snackbar>\n            <div className={classes.main}>\n                <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n                    <Avatar className={classes.profileImg} src={imagem.image} />\n                </IconButton>\n            </div>\n            <div className={classes.content}>\n                <form className={classes.form} onSubmit={handleSubmit}>\n                    <TextField\n                        className={classes.imageLink}\n                        id=\"image\"\n                        label=\"Imagem de perfil\"\n                        name='Profile'\n                        placeholder='cole aqui o link da sua imagem'\n                        variant='outlined'\n                        onChange={handleChange}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <AccountCircle />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button className={classes.btn} variant='outlined' color='primary' type='submit' >\n                        Atualizar\n                    </Button>\n                </form>\n            </div>\n        </div>\n    )\n};\n\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}