{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/marcos/\\xC1rea de Trabalho/WorldProducts/PROJETO-PESSOAL/src/components/Profile/Setings/Settings.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, createContext, useContext } from \"react\";\nimport Header from \"../../Header/header\";\nimport estilo from \"./estyle.js\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport AccountCircle from \"@material-ui/icons/LinkOutlined\";\nimport api from \"../../../Services/userServer\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { Button, Snackbar, Avatar } from \"@material-ui/core\";\nexport const profileImg = /*#__PURE__*/createContext();\nexport const Profile = props => {\n  _s();\n\n  let imageProfile;\n  const profile = JSON.parse(localStorage.getItem(\"login\"));\n  profile && (imageProfile = profile.image);\n  const [image, setImage] = useState(imageProfile);\n  return /*#__PURE__*/_jsxDEV(profileImg.Provider, {\n    value: {\n      image,\n      setImage\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Profile, \"qjA6Y1tzD4zb3wjU7mpSrDdOvzM=\");\n\n_c = Profile;\n\nconst Settings = () => {\n  _s2();\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this);\n  }\n\n  const imagem = useContext(profileImg);\n  const classes = estilo();\n  const [account, setAccount] = useState();\n  const [msg, setMsg] = useState();\n  const [retorno, setRetorno] = useState();\n  const vertical = \"top\";\n  const horizontal = \"left\";\n  const [Aberto, setAberto] = useState();\n\n  function abrir() {\n    setAberto(true);\n  }\n\n  function fechar() {\n    setAberto(false);\n  }\n\n  const [values, setValues] = useState({\n    Email: \"\",\n    Profile: \"\"\n  });\n\n  const handleChange = ev => {\n    const {\n      name,\n      value\n    } = ev.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async ev => {\n    ev.preventDefault();\n    imagem.setImage(values.Profile); //BUSCANDO DADOS DO USUÁRIO NON CACHE\n\n    const user = JSON.parse(localStorage.getItem(\"login\"));\n    let userId;\n    user && (useId = user.id);\n    user.image = values.Profile; //BUSCANDO DADOS DO USUÁRIO NO 'BANCO DE DADOS'\n\n    async function buscarUser() {\n      const response = await api.get(`/users`);\n      const resposta = response.data;\n      const usuario = resposta.filter(e => {\n        return e.email === values.Email;\n      });\n      usuario[0] ? setAccount(true) : setAccount(false);\n      usuario[0] ? setMsg(\"Já existe uma conta cadastrada com este email , digite um email novo\") : setMsg(\"Imagem atualizada\");\n      usuario[0] ? setRetorno(\"error\") : setRetorno(\"success\");\n      usuario[0] && localStorage.setItem(\"login\", JSON.stringify(user));\n      console.log(usuario[0].firstName);\n    }\n\n    buscarUser();\n    abrir();\n    account === false && (await api.put(`/users/${userId}`, user));\n    console.log(imagem.image);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical,\n        horizontal\n      },\n      open: Aberto,\n      onClose: fechar,\n      autoHideDuration: 5000,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: retorno,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.main,\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        \"aria-label\": \"upload picture\",\n        component: \"span\",\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.profileImg,\n          src: imagem.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.content,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.imageLink,\n          id: \"image\",\n          label: \"Imagem de perfil\",\n          name: \"Profile\",\n          placeholder: \"cole aqui o link da sua imagem\",\n          variant: \"outlined\",\n          onChange: handleChange,\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: classes.btn,\n          variant: \"outlined\",\n          color: \"primary\",\n          type: \"submit\",\n          children: \"Atualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Settings, \"uCX40/OQz7IBwbET/SXHu0J8a/o=\");\n\n_c2 = Settings;\nexport default Settings;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Profile\");\n$RefreshReg$(_c2, \"Settings\");","map":{"version":3,"sources":["/home/marcos/Área de Trabalho/WorldProducts/PROJETO-PESSOAL/src/components/Profile/Setings/Settings.js"],"names":["React","useState","createContext","useContext","Header","estilo","IconButton","TextField","InputAdornment","AccountCircle","api","MuiAlert","Button","Snackbar","Avatar","profileImg","Profile","props","imageProfile","profile","JSON","parse","localStorage","getItem","image","setImage","children","Settings","Alert","imagem","classes","account","setAccount","msg","setMsg","retorno","setRetorno","vertical","horizontal","Aberto","setAberto","abrir","fechar","values","setValues","Email","handleChange","ev","name","value","target","handleSubmit","preventDefault","user","userId","useId","id","buscarUser","response","get","resposta","data","usuario","filter","e","email","setItem","stringify","console","log","firstName","put","main","content","form","imageLink","startAdornment","btn"],"mappings":"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","sourcesContent":["import React, { useState, createContext, useContext } from \"react\";\nimport Header from \"../../Header/header\";\nimport estilo from \"./estyle.js\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport AccountCircle from \"@material-ui/icons/LinkOutlined\";\nimport api from \"../../../Services/userServer\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { Button, Snackbar, Avatar } from \"@material-ui/core\";\n\nexport const profileImg = createContext();\n\nexport const Profile = (props) => {\n  let imageProfile;\n  const profile = JSON.parse(localStorage.getItem(\"login\"));\n  profile && (imageProfile = profile.image);\n\n  const [image, setImage] = useState(imageProfile);\n\n  return (\n    <profileImg.Provider value={{ image, setImage }}>\n      {props.children}\n    </profileImg.Provider>\n  );\n};\n\nconst Settings = () => {\n  function Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n  const imagem = useContext(profileImg);\n  const classes = estilo();\n  const [account, setAccount] = useState();\n  const [msg, setMsg] = useState();\n  const [retorno, setRetorno] = useState();\n  const vertical = \"top\";\n  const horizontal = \"left\";\n  const [Aberto, setAberto] = useState();\n\n  function abrir() {\n    setAberto(true);\n  }\n  function fechar() {\n    setAberto(false);\n  }\n  const [values, setValues] = useState({\n    Email: \"\",\n    Profile: \"\",\n  });\n  const handleChange = (ev) => {\n    const { name, value } = ev.target;\n    setValues({ ...values, [name]: value });\n  };\n  const handleSubmit = async (ev) => {\n    ev.preventDefault();\n    imagem.setImage(values.Profile);\n    //BUSCANDO DADOS DO USUÁRIO NON CACHE\n\n    const user = JSON.parse(localStorage.getItem(\"login\"));\n    let userId;\n    user && (useId = user.id);\n    user.image = values.Profile;\n\n    //BUSCANDO DADOS DO USUÁRIO NO 'BANCO DE DADOS'\n    async function buscarUser() {\n      const response = await api.get(`/users`);\n      const resposta = response.data;\n      const usuario = resposta.filter((e) => {\n        return e.email === values.Email;\n      });\n      usuario[0] ? setAccount(true) : setAccount(false);\n      usuario[0]\n        ? setMsg(\n            \"Já existe uma conta cadastrada com este email , digite um email novo\"\n          )\n        : setMsg(\"Imagem atualizada\");\n      usuario[0] ? setRetorno(\"error\") : setRetorno(\"success\");\n      usuario[0] && localStorage.setItem(\"login\", JSON.stringify(user));\n      console.log(usuario[0].firstName);\n    }\n    buscarUser();\n    abrir();\n    account === false && (await api.put(`/users/${userId}`, user));\n    console.log(imagem.image);\n  };\n  return (\n    <div>\n      <Header />\n      <Snackbar\n        anchorOrigin={{ vertical, horizontal }}\n        open={Aberto}\n        onClose={fechar}\n        autoHideDuration={5000}\n      >\n        <Alert severity={retorno}>\n          <div>{msg}</div>\n        </Alert>\n      </Snackbar>\n      <div className={classes.main}>\n        <IconButton\n          color=\"primary\"\n          aria-label=\"upload picture\"\n          component=\"span\"\n        >\n          <Avatar className={classes.profileImg} src={imagem.image} />\n        </IconButton>\n      </div>\n      <div className={classes.content}>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            className={classes.imageLink}\n            id=\"image\"\n            label=\"Imagem de perfil\"\n            name=\"Profile\"\n            placeholder=\"cole aqui o link da sua imagem\"\n            variant=\"outlined\"\n            onChange={handleChange}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <AccountCircle />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            className={classes.btn}\n            variant=\"outlined\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Atualizar\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}